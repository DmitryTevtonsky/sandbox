(this.webpackJsonpsandbox=this.webpackJsonpsandbox||[]).push([[0],{105:function(e,t,a){e.exports=a(1242)},110:function(e,t,a){},121:function(e,t,a){},1220:function(e,t,a){},1223:function(e,t,a){},1241:function(e,t,a){},1242:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),o=a.n(l),c=(a(110),a(45),a(24)),i=(a(112),a(101)),s=a(16),h=(a(1243),a(72)),u=(a(116),a(73)),m=(a(118),a(102)),f=(a(74),a(39)),d=a(93),g=a.n(d);a(121);var v=a(94),b=a.n(v);function p(e){for(var t=[],a=0;a<e;a++)t.push(b.a.internet.color());return t}var x=function(e){var t;switch(e){case"linear":t={name:"linear",scope:2,err:200};break;case"circular":t={name:"circular",k:25,err:20,outlier:30};break;default:t={name:""}}return t},w=function(e,t,a,n,r){var l=function(e,t,a,n,r,l){var o=[];switch(l.name){case"linear":for(var c=l.scope,i=l.err,s=0;s<r;s++)if(s>.9*r)o[s]={x:Math.random()*(t-e)+e,y:Math.random()*(n-a)+a};else{var h=Math.random()*(t-e)+e,u=h*c,m=Math.random()*i-i/2,f=Math.random()*i-i/2;o[s]={x:h+m,y:u+f}}break;case"circular":var d=[],g=[],v=l.k,b=l.outlier,p=l.err;g.length=v,d.length=v;for(s=0;s<v;s++)g[s]={x:Math.random()*(t-e)+e,y:Math.random()*(n-a)+a},d[s]=Math.random()*((t-e)/4);for(s=0;s<r;s++)if(s>r-b)o[s]={x:Math.random()*(t-e)+e,y:Math.random()*(n-a)+a};else{var x=Math.random()*(2*d[s%v])+g[s%v].x-d[s%v],w=Math.sqrt(Math.abs(d[s%v]*d[s%v]-(x-g[s%v].x)*(x-g[s%v].x)))*Math.pow(-1,s%2+1)+g[s%v].y,E=Math.random()*p-p/2,y=Math.random()*p-p/2;(x+=E)<e&&(x+=e),x>t&&(x-=t),(w+=y)>n&&(w-=n),w<a&&(w+=a),o[s]={x:x,y:w}}break;default:for(s=0;s<r;s++)o[s]=[Math.random()*(t-e)+e,Math.random()*(n-a)+a]}return o}(n,t-n,n,a-n,e,r).map((function(e){return Object.values(e)})),o=[],c=[];l.forEach((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];o.push(a),c.push(n)}));var i=[{min:Math.min.apply(null,o),max:Math.max.apply(null,o)},{min:Math.min.apply(null,c),max:Math.max.apply(null,c)}];return{data:l,extents:i,ranges:function(){for(var e=[],t=0;t<i.length;t++)e[t]=i[t].max-i[t].min;return e}()}};var E=function(e){var t=e.data,a=Object(n.useRef)(),l=Object(n.useState)(5),o=Object(s.a)(l,2),i=o[0],h=o[1],u=Object(n.useState)(5),d=Object(s.a)(u,2),v=d[0],b=d[1],x=Object(n.useState)(!1),w=Object(s.a)(x,2),E=w[0],y=w[1],M=Object(n.useState)(!1),O=Object(s.a)(M,2),j=O[0],k=O[1],S=function(e){k(!0),e.clearRect(0,0,a.width,a.height);var n=p(v),r=g()({data:t,k:i}),l=Array.from({length:i},(function(){return[]}));r.on("iteration",(function(t){return function(e,t,a,n,r,l,o,c){var i,s,h=t.canvas;for(t.fillStyle="rgba(255,255,255, 1)",t.fillRect(0,0,h.width,h.height),s=0;s<l.length;s++){var u=l[s];i=n[s];var m=r[u];t.globalAlpha=.7,t.save(),t.beginPath();var f=(i[0]-o[0].min+1)*(h.width/(c[0]+2)),d=(i[1]-o[1].min+1)*(h.height/(c[1]+2)),g=(m[0]-o[0].min+1)*(h.width/(c[0]+2)),v=(m[1]-o[1].min+1)*(h.height/(c[1]+2));t.moveTo(f,d),t.lineTo(g,v),t.strokeStyle="black",t.stroke(),t.restore()}for(s=0;s<n.length;s++)t.save(),i=n[s],t.globalAlpha=1,t.translate((i[0]-o[0].min+1)*(h.width/(c[0]+2)),(i[1]-o[1].min+1)*(h.width/(c[1]+2))),t.beginPath(),t.arc(0,0,5,0,2*Math.PI,!0),t.strokeStyle=a[l[s]],t.stroke(),t.closePath(),t.restore();for(s=0;s<r.length;s++)t.save(),i=r[s],t.globalAlpha=.5,t.fillStyle=a[s],t.translate((i[0]-o[0].min+1)*(h.width/(c[0]+2)),(i[1]-o[1].min+1)*(h.width/(c[1]+2))),t.beginPath(),t.arc(0,0,5,0,2*Math.PI,!0),t.fill(),t.closePath(),t.restore()}(0,e,n,t.data,t.means,t.assignments,t.extents,t.ranges)})),r.on("end",(function(t){return k(!1),console.log("\u041f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u0437\u0430\u043d\u044f\u043b\u043e \u043a\u043e\u043b-\u0432\u043e \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439: ".concat(t.iterations)),function(e,t,a,n,r,l,o,c,i){var s,h,u=a.canvas;for(h=0;h<o.length;h++){var m=o[h];s=r[h];var f=l[m];a.globalAlpha=1,a.save(),a.beginPath();var d=(s[0]-c[0].min+1)*(u.width/(i[0]+2)),g=(s[1]-c[1].min+1)*(u.height/(i[1]+2)),v=(f[0]-c[0].min+1)*(u.width/(i[0]+2)),b=(f[1]-c[1].min+1)*(u.height/(i[1]+2));a.moveTo(d,g),a.lineTo(v,b);var p=Math.round(Math.sqrt(Math.pow(v-d,2)+Math.pow(b-g,2)));e&&(console.log("\u0414\u043b\u0438\u043d\u0430 ".concat(h,"-\u0433\u043e \u043e\u0442\u0440\u0435\u0437\u043a\u0430 \u0434\u043b\u044f ").concat(o[h]," \u0446\u0435\u043d\u0442\u0440\u0430 ="),p),a.fillStyle="black",a.textAlign="center",a.textBaseline="bottom",a.font="bold  7pt Arial",a.fillText(p,d,g-5)),a.strokeStyle=n[o[h]],a.stroke(),t[o[h]].push(p),a.restore()}for(h=0;h<l.length;h++){a.save(),s=l[h],a.globalAlpha=1,a.fillStyle="black";var x=(s[0]-c[0].min+1)*(u.width/(i[0]+2)),w=(s[1]-c[1].min+1)*(u.width/(i[1]+2));a.translate(x,w),a.beginPath(),a.arc(0,0,5,0,2*Math.PI,!0),a.fill(),a.closePath();var E=Math.round(t[h].reduce((function(e,t){return e+t}))/t[h].length),y=a.measureText(E).width;a.fillStyle="white",a.fillRect(10,-20,y+10,12),a.fillStyle="black",a.textAlign="left",a.font="bold 14px Arial",a.fillText(E,10,-9),a.restore()}return t}(E,l,e,n,t.data,t.means,t.assignments,t.extents,t.ranges)})),r.run({delay:0})};Object(n.useLayoutEffect)((function(){var e=a.current.getContext("2d");S(e)}),[t]);return r.a.createElement("div",{className:"k-means-box"},"K-means",r.a.createElement("canvas",{ref:a,id:"canvas",width:540,height:540}),r.a.createElement("div",{className:"controls"},r.a.createElement(f.a,{placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0446\u0435\u043d\u0442\u0440\u043e\u0432 (3)",onChange:function(e){return h(e.target.value)},allowClear:!0}),r.a.createElement(f.a,{placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432 (3)",onChange:function(e){return b(e.target.value)},allowClear:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement(m.a,{onChange:function(e){return y(e.target.checked)}},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0434\u043e \u0446\u0435\u0442\u0440\u043e\u0439\u0434\u043e\u0432"),r.a.createElement(c.a,{loading:j,onClick:function(){S(a.current.getContext("2d"))},type:"primary"},"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a"))))},y=(a(1220),a(1221),a(103)),M=a(98),O=a.n(M);a(1223);var j=function(e,t){var a=Math.pow(e[0]-t[0],2),n=Math.pow(e[1]-t[1],2);return Math.sqrt(a+n)},k=function(e){var t=e.data,a=e.ranges,l=e.extents,o=e.maxX,i=e.maxY,h=Object(n.useRef)(),u=Object(n.useState)(30),m=Object(s.a)(u,2),d=m[0],g=m[1],v=Object(n.useState)(5),b=Object(s.a)(v,2),x=b[0],w=b[1],E=Object(n.useState)(0),M=Object(s.a)(E,2),k=M[0],S=M[1],C=Object(n.useState)(0),A=Object(s.a)(C,2),P=A[0],N=A[1],T=function(){var e=h.current.getContext("2d"),n=O()(t,j,d,x),r=Array.from(new Set(n));N(n.filter((function(e){return-1===e})).length),S(r.length),console.log("uniqLabels",r);var o=p(r.length);!function(e,t,a,n,r,l){var o,c,i=e.canvas;for(e.fillStyle="rgba(255,255,255, 1)",e.fillRect(0,0,i.width,i.height),c=0;c<t.length;c++){e.save(),o=t[c],e.globalAlpha=1,e.translate((o[0]-r[0].min+1)*(i.width/(l[0]+2)),(o[1]-r[1].min+1)*(i.width/(l[1]+2))),e.beginPath(),e.arc(0,0,5,0,2*Math.PI,!0),-1===a[c]?(e.strokeStyle=n[a[c]],e.stroke()):(e.fillStyle=n[a[c]],e.shadowColor=n[a[c]],e.shadowBlur=20,e.shadowOffsetX=0,e.shadowOffsetY=0,e.fill()),e.closePath(),e.restore()}}(e,t,n,o,l,a)};Object(n.useLayoutEffect)((function(){console.log("\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",t),T()}),[t]);return r.a.createElement("div",{className:"dbscan-box"},"DBSCAN",r.a.createElement("canvas",{ref:h,id:"canvas",width:o,height:i}),r.a.createElement("div",{className:"controls"},r.a.createElement(f.a,{placeholder:"minPts  (5)",onChange:function(e){return w(e.target.value)},allowClear:!0}),r.a.createElement(f.a,{placeholder:"epsilon   (30)",onChange:function(e){return g(e.target.value)},allowClear:!0}),k&&r.a.createElement(y.a,{message:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432: ".concat(k-1),description:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435\u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0442\u043e\u0447\u0435\u043a (\u0448\u0443\u043c\u043e\u0432): ".concat(P),type:"info"}),r.a.createElement("div",{className:"buttons"},r.a.createElement(c.a,{onClick:function(){T()},type:"primary"},"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a"))))},S=u.a.TabPane,C=h.a.Option,A=function(){var e=Object(n.useState)("circular"),t=Object(s.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(1e3),m=Object(s.a)(o,2),f=m[0],d=m[1],g=Object(n.useState)(w(f,540,540,20,x(a))),v=Object(s.a)(g,2),b=v[0],p=v[1];Object(n.useEffect)((function(){console.log("wtf"),p(w(f,540,540,20,x(a)))}),[a]);var y=r.a.createElement("div",{className:"operations"},r.a.createElement(i.a,{placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0447\u0435\u043a (1000)",onChange:function(e){return d(e)},allowClear:!0,style:{width:220},min:10,max:1e4}),r.a.createElement(c.a,{icon:"reload",onClick:function(){return p(w(f,540,540,20,x(a)))}}),r.a.createElement(h.a,{style:{width:150},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435",onChange:function(e){return l(e)},value:a},r.a.createElement(C,{value:"linear"},"\u041b\u0438\u043d\u0435\u0439\u043d\u043e\u0435"),r.a.createElement(C,{value:"circular"},"\u041a\u0440\u0443\u0433\u043e\u0432\u043e\u0435"),r.a.createElement(C,{value:""},"\u0420\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e\u0435")));return r.a.createElement("div",{className:"clustering-box"},r.a.createElement(u.a,{defaultActiveKey:"2",tabBarExtraContent:y},r.a.createElement(S,{tab:"K-MEANS",key:"1"},r.a.createElement(E,{data:b.data,maxX:540,maxY:540,offset:20})),r.a.createElement(S,{tab:"DBSCAN",key:"2"},r.a.createElement(k,{data:b.data,ranges:b.ranges,extents:b.extents,maxX:540,maxY:540,offset:20}))))},P=(a(1241),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null))});o.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.97030f07.chunk.js.map