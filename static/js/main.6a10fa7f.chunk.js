(this.webpackJsonpsandbox=this.webpackJsonpsandbox||[]).push([[0],{103:function(e,t,a){},1203:function(e,t,a){},1208:function(e,t,a){},1217:function(e,t,a){},1218:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),c=(a(95),a(17)),i=(a(96),a(61)),s=(a(63),a(34)),h=(a(99),a(88)),u=(a(101),a(44)),f=a(81),m=a.n(f);a(103);var d=a(82),g=a.n(d);function v(e){for(var t=[],a=0;a<e;a++)t.push(g.a.internet.color());return t}var b=function(e){var t=e.data,a=Object(n.useRef)(),l=Object(n.useState)(100),o=Object(c.a)(l,2),i=(o[0],o[1]),f=Object(n.useState)(3),d=Object(c.a)(f,2),g=d[0],b=d[1],p=Object(n.useState)(3),x=Object(c.a)(p,2),w=x[0],M=x[1],y=Object(n.useState)(!1),k=Object(c.a)(y,2),E=k[0],O=k[1],S=Object(n.useState)(!1),j=Object(c.a)(S,2),A=j[0],C=j[1],P=function(e){C(!0),e.clearRect(0,0,a.width,a.height);var n=v(w),r=m()({data:t,k:g}),l=Array.from({length:g},(function(){return[]}));r.on("iteration",(function(t){return function(e,t,a,n,r,l,o,c){var i,s,h=t.canvas;for(t.fillStyle="rgba(255,255,255, 1)",t.fillRect(0,0,h.width,h.height),s=0;s<l.length;s++){var u=l[s];i=n[s];var f=r[u];t.globalAlpha=.7,t.save(),t.beginPath();var m=(i[0]-o[0].min+1)*(h.width/(c[0]+2)),d=(i[1]-o[1].min+1)*(h.height/(c[1]+2)),g=(f[0]-o[0].min+1)*(h.width/(c[0]+2)),v=(f[1]-o[1].min+1)*(h.height/(c[1]+2));t.moveTo(m,d),t.lineTo(g,v),t.strokeStyle="black",t.stroke(),t.restore()}for(s=0;s<n.length;s++)t.save(),i=n[s],t.globalAlpha=1,t.translate((i[0]-o[0].min+1)*(h.width/(c[0]+2)),(i[1]-o[1].min+1)*(h.width/(c[1]+2))),t.beginPath(),t.arc(0,0,5,0,2*Math.PI,!0),t.strokeStyle=a[l[s]],t.stroke(),t.closePath(),t.restore();for(s=0;s<r.length;s++)t.save(),i=r[s],t.globalAlpha=.5,t.fillStyle=a[s],t.translate((i[0]-o[0].min+1)*(h.width/(c[0]+2)),(i[1]-o[1].min+1)*(h.width/(c[1]+2))),t.beginPath(),t.arc(0,0,5,0,2*Math.PI,!0),t.fill(),t.closePath(),t.restore()}(0,e,n,t.data,t.means,t.assignments,t.extents,t.ranges)})),r.on("end",(function(t){return C(!1),console.log("\u041f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u0437\u0430\u043d\u044f\u043b\u043e \u043a\u043e\u043b-\u0432\u043e \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439: ".concat(t.iterations)),function(e,t,a,n,r,l,o,c,i){var s,h,u=a.canvas;for(h=0;h<o.length;h++){var f=o[h];s=r[h];var m=l[f];a.globalAlpha=1,a.save(),a.beginPath();var d=(s[0]-c[0].min+1)*(u.width/(i[0]+2)),g=(s[1]-c[1].min+1)*(u.height/(i[1]+2)),v=(m[0]-c[0].min+1)*(u.width/(i[0]+2)),b=(m[1]-c[1].min+1)*(u.height/(i[1]+2));a.moveTo(d,g),a.lineTo(v,b);var p=Math.round(Math.sqrt(Math.pow(v-d,2)+Math.pow(b-g,2)));e&&(console.log("\u0414\u043b\u0438\u043d\u0430 ".concat(h,"-\u0433\u043e \u043e\u0442\u0440\u0435\u0437\u043a\u0430 \u0434\u043b\u044f ").concat(o[h]," \u0446\u0435\u043d\u0442\u0440\u0430 ="),p),a.fillStyle="black",a.textAlign="center",a.textBaseline="bottom",a.font="bold  7pt Arial",a.fillText(p,d,g-5)),a.strokeStyle=n[o[h]],a.stroke(),t[o[h]].push(p),a.restore()}for(h=0;h<l.length;h++){a.save(),s=l[h],a.globalAlpha=1,a.fillStyle="black";var x=(s[0]-c[0].min+1)*(u.width/(i[0]+2)),w=(s[1]-c[1].min+1)*(u.width/(i[1]+2));a.translate(x,w),a.beginPath(),a.arc(0,0,5,0,2*Math.PI,!0),a.fill(),a.closePath();var M=Math.round(t[h].reduce((function(e,t){return e+t}))/t[h].length);a.shadowColor=n[h],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=3,a.fillStyle="black",a.font="bold 10pt Arial",a.fillText(M,10,-10),a.restore()}return t}(E,l,e,n,t.data,t.means,t.assignments,t.extents,t.ranges)})),r.run({delay:50})};Object(n.useLayoutEffect)((function(){var e=a.current.getContext("2d");P(e)}),[]);return r.a.createElement("div",{className:"k-means-box"},"K-means",r.a.createElement("canvas",{ref:a,id:"canvas",width:540,height:540}),r.a.createElement("div",{className:"controls"},r.a.createElement(u.a,{placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0447\u0435\u043a (10)",onChange:function(e){return i(e.target.value)},allowClear:!0}),r.a.createElement(u.a,{placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0446\u0435\u043d\u0442\u0440\u043e\u0432 (3)",onChange:function(e){return b(e.target.value)},allowClear:!0}),r.a.createElement(u.a,{placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432 (3)",onChange:function(e){return M(e.target.value)},allowClear:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement(h.a,{onChange:function(e){return O(e.target.checked)}},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0434\u043e \u0446\u0435\u0442\u0440\u043e\u0439\u0434\u043e\u0432"),r.a.createElement(s.a,{loading:A,onClick:function(){P(a.current.getContext("2d"))},type:"primary"},"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a"))))},p=(a(1203),a(1204),a(86)),x=a.n(p);a(1208);var w=function(e,t){var a=Math.pow(e[0]-t[0],2),n=Math.pow(e[1]-t[1],2);return Math.sqrt(a+n)},M=function(e){var t=e.data,a=e.ranges,l=e.extents,o=e.maxX,c=e.maxY,i=Object(n.useRef)();return Object(n.useLayoutEffect)((function(){var e=i.current.getContext("2d");console.log("data",t);var n=x()(t,w,150,10),r=Array.from(new Set(n));console.log("uniqLabels",r);var o=v(r.length);!function(e,t,a,n,r,l){var o,c,i=e.canvas;for(e.fillStyle="rgba(255,255,255, 1)",e.fillRect(0,0,i.width,i.height),console.log(t),c=0;c<t.length;c++){e.save(),o=t[c],e.globalAlpha=1,e.translate((o[0]-r[0].min+1)*(i.width/(l[0]+2)),(o[1]-r[1].min+1)*(i.width/(l[1]+2))),e.beginPath(),e.arc(0,0,5,0,2*Math.PI,!0),-1===a[c]?(e.strokeStyle=n[a[c]],e.stroke()):(e.fillStyle=n[a[c]],e.shadowColor=n[a[c]],e.shadowBlur=20,e.shadowOffsetX=0,e.shadowOffsetY=0,e.fill()),e.closePath(),e.restore()}}(e,t,n,o,l,a)}),[]),r.a.createElement("div",{className:"k-means-box"},"DBSCAN",r.a.createElement("canvas",{ref:i,id:"canvas",width:o,height:c}))},y=i.a.TabPane,k=function(e,t,a,n){var r=function(e,t,a,n,r,l){var o=[];switch(l.name){case"linear":for(var c=l.scope,i=l.err,s=0;s<r;s++)if(s>.9*r)o[s]={x:Math.random()*(t-e)+e,y:Math.random()*(n-a)+a};else{var h=Math.random()*(t-e)+e,u=h*c,f=Math.random()*i-i/2,m=Math.random()*i-i/2;o[s]={x:h+f,y:u+m}}break;case"circular":var d=[],g=[];g.length=l.k,d.length=l.k;var v=l.k;for(s=0;s<l.k;s++)g[s]={x:Math.random()*(t-e)+e,y:Math.random()*(n-a)+a},d[s]=Math.random()*((t-e)/4);for(s=0;s<r;s++)if(s>r-l.outlier)o[s]={x:Math.random()*(t-e)+e,y:Math.random()*(n-a)+a};else{var b=Math.random()*(2*d[s%v])+g[s%v].x-d[s%v],p=Math.sqrt(Math.abs(d[s%v]*d[s%v]-(b-g[s%v].x)*(b-g[s%v].x)))*Math.pow(-1,s%2+1)+g[s%v].y;(b+=f=Math.random()*l.err-l.err/2)<e&&(b+=e),b>t&&(b-=t),(p+=m=Math.random()*l.err-l.err/2)>n&&(p-=n),p<a&&(p+=a),o[s]={x:b,y:p}}break;default:console.log("default");for(s=0;s<r;s++)o[s]=[Math.random()*(t-e)+e,Math.random()*(n-a)+a]}return o}(n,t-n,n,a-n,e,{name:"linear",scope:5,err:150}).map((function(e){return Object.values(e)})),l=[],o=[];r.forEach((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];l.push(a),o.push(n)}));var i=[{min:Math.min.apply(null,l),max:Math.max.apply(null,l)},{min:Math.min.apply(null,o),max:Math.max.apply(null,o)}];return{data:r,extents:i,ranges:function(){for(var e=[],t=0;t<i.length;t++)e[t]=i[t].max-i[t].min;return e}()}},E=function(){var e=Object(n.useState)(k(100,540,540,20)),t=Object(c.a)(e,2),a=t[0];t[1];return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:"clustering-box"},r.a.createElement(i.a,{defaultActiveKey:"2"},r.a.createElement(y,{tab:"K-MEANS",key:"1"},r.a.createElement(b,{data:a.data,maxX:540,maxY:540,offset:20})),r.a.createElement(y,{tab:"DBSCAN",key:"2"},r.a.createElement(M,{data:a.data,ranges:a.ranges,extents:a.extents,maxX:540,maxY:540,offset:20}))))},O=(a(1217),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))});o.a.render(r.a.createElement(O,null),document.getElementById("root"))},90:function(e,t,a){e.exports=a(1218)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.6a10fa7f.chunk.js.map